clear all;
x1=1.5;
y1=6;
hold on; %是当前轴及图形保持而不被刷新，准备接受此后将绘制
plot(x1,y1,'o','MarkerFaceColor','r','MarkerSize',8);
text(x1-0.8,y1,'p1');
x2=10;
y2=8;
plot(x2,y2,'o','MarkerFaceColor','r','MarkerSize',8);
text(x2+0.3,y2,'p2');
x3=1;
y3=4;
plot(x3,y3,'o','MarkerFaceColor','r','MarkerSize',8);
text(x3-0.7,y3,'p3');
x4=11;
y4=6;
plot(x4,y4,'o','MarkerFaceColor','r','MarkerSize',8);
text(x4+0.3,y4,'p4');
d=(y3-y1)*(x4-x2)-(y4-y2)*(x3-x1);
x0=((x3-x1)*(x4-x2)*(x2-x1)+(y3-y1)*(x4-x2)*x1-(y4-y2)*(x3-x1)*x2)/d;
y0=((y3-y1)*(y4-y2)*(x2-x1)+(x3-x1)*(y4-y2)*y1-(x4-x2)*(y3-y1)*y2)/(-d);
plot(x0,y0,'o','MarkerFaceColor','g','MarkerSize',8);
text(x0+0.3,y0,'p0');
set(gca,'XLim',[0 12]);
set(gca,'YLim',[0 20]);
for t=0:1/200:1
    Xb1=(1-t)*x1+t*x0;
    Yb1=(1-t)*y1+t*y0;
    A=[Xb1,Yb1];
    Xb2=(1-t)*x0+t*x2;
    Yb2=(1-t)*y0+t*y2;
    B=[Xb2,Yb2];
    Xc=(1-t)*Xb1+t*Xb2;
    Yc=(1-t)*Yb1+t*Yb2;
    hold on;
    drawnow;
    %plot(Xb1,Yb1,'o','MarkerFaceColor','r','MarkerSize',5);
    %plot(Xb2,Yb2,'o','MarkerFaceColor','r','MarkerSize',5);
    plot([Xb1,Xb2],[Yb1,Yb2],':k');
    plot(Xb1,Yb1,'-ks','MarkerFaceColor','k','MarkerSize',1);
    plot(Xb2,Yb2,'-ks','MarkerFaceColor','k','MarkerSize',1);
    plot(Xc,Yc,'-ks','MarkerFaceColor','k','MarkerSize',1);
    %plot(x3,y3,'k.');
    %comet(x3,y3);
    %grid on;
end;